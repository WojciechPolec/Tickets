<!DOCTYPE HTML>

<HEAD>
    <meta charset="UTF-8">
    <title>Bilety</title>
    <link href="kaskada.css" rel="stylesheet" type="text/css" />
</HEAD>

<BODY>

    <article>

        <div class="pierwszy">
    <form>
    <fieldset>
        <fieldset>
            <legend>Rezerwacja biletów</legend>
            <input type="checkbox" id="checkbox_id" onClick="calaCena('checkbox_id','cena_id','button_dod','button_od')">
            <label>Bilet dla osoby dorosłej:</label>
            <input type="button" id="button_dod" value="+" onClick="ustalCena('dod','ilosc_id','cena_id',15.00)">
            <input type="text" id="ilosc_id" value="1" readonly>
            <input type="button" id="button_od" value="-" onClick="ustalCena('od','ilosc_id','cena_id',15.00)">
            <input type="text" id="cena_id" value="15.00" readonly>
            <label >zł</label>
        </fieldset>
        <fieldset>
            <legend>Rezerwacja biletów</legend>
            <input type="checkbox" id="checkbox_id_d" onClick="calaCena('checkbox_id_d','cena_id_d','button_dod_d','button_od_d')">
            <label>Bilet dla dziecka:</label>
            <input type="button" id="button_dod_d" value="+" onClick="ustalCena('dod','ilosc_id_d','cena_id_d',7.50)">
            <input type="text" id="ilosc_id_d" value="1" readonly>
            <input type="button" id="button_od_d" value="-"onClick="ustalCena('od','ilosc_id_d','cena_id_d',7.50)">
            <input type="text" id="cena_id_d" value="7.50" readonly>
            <label >zł</label>
        </fieldset>
        <fieldset>
            <legend>Rezerwacja biletów</legend>
            <input type="checkbox" id="checkbox_id_s" onClick="calaCena('checkbox_id_s','cena_id_s','button_dod_s','button_od_s')">
            <label>Bilet dla seniora:</label>
            <input type="button" id="button_dod_s" value="+" onClick="ustalCena('dod','ilosc_id_s','cena_id_s',9.50)">
            <input type="text" id="ilosc_id_s" value="1" readonly>
            <input type="button" id="button_od_s" value="-" onClick="ustalCena('od','ilosc_id_s','cena_id_s',9.50)">
            <input type="text" id="cena_id_s" value="9.50" readonly>
            <label >zł</label>
        </fieldset>
        <fieldset class="inne">
            <label >Podatek od biletów wynosi:</label>
            <br>
            <input type="text" id="podatek_id" value="0.00" readonly>
            <label >zł</label>
            <br>
            <label>Łączna cena biletów wynosci:</label>
            <br>
            <input type="text" id="lacznie_id" value="0.00" readonly>
            <label >zł</label>

        </fieldset>
    
    </form>
    </div>

        
    </article>
    
</BODY>

<script language="JavaScript" type="text/javascript">
function ustalCena(op, ilosc, cena, cena_stala){
    var new_cena;
    var ileBiletow = parseInt(document.getElementById(ilosc).value);
    var cena_stala = parseFloat(cena_stala);
    if(op=="dod"){
        ileBiletow += 1;
    }else if(ileBiletow>1){
        ileBiletow -= 1;
    }
    document.getElementById(ilosc).value = ileBiletow;
    new_cena=ileBiletow * cena_stala;
    var cala_cena=parseInt(new_cena);
    if((new_cena-cala_cena)==0){
        document.getElementById(cena).value = new_cena+ ".00"; 
    }else{
        document.getElementById(cena).value = new_cena+ "0";
    }
}
function calaCena(chec, cena, dod, od){
    if(document.getElementById(chec).checked){
        cena =parseFloat(document.getElementById(cena).value);
        var new_lacznie =parseFloat(document.getElementById('lacznie_id').value);
        var podatek=parseFloat(document.getElementById('podatek_id').value);
        document.getElementById('lacznie_id').value= new_lacznie+cena;
        document.getElementById('podatek_id').value=((new_lacznie+cena)*(23/100)).toFixed(2); 
        document.getElementById(dod).disabled=true;
        document.getElementById(od).disabled=true;
    }
    else{
        cena =parseFloat(document.getElementById(cena).value);
        var new_lacznie =parseFloat(document.getElementById('lacznie_id').value);
        document.getElementById(dod).disabled=false;
        document.getElementById(od).disabled=false;
        document.getElementById('lacznie_id').value= new_lacznie-cena;
        document.getElementById('podatek_id').value=((new_lacznie-cena)*(23/100)).toFixed(2);

    }
    
}


    </script>
</HTML>